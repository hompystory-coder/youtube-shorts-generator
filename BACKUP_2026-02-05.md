# /home/shorts 전체 백업 완료

**백업 일시**: 2026-02-05 12:21:16 KST  
**백업 작성자**: GenSpark AI Developer  
**백업 이유**: ShortsSettings 레이아웃 수정 작업 완료 후 안전 백업

---

## 📦 백업 정보

### 백업 파일
- **파일명**: `shorts_backup_20260205_122116.tar.gz`
- **위치**: `/home/azamans/backups/shorts_backup_20260205_122116.tar.gz`
- **크기**: 49MB (압축)
- **형식**: tar.gz (gzip 압축)

### 백업 명령어
```bash
cd /home
tar -czf /home/azamans/backups/shorts_backup_20260205_122116.tar.gz \
    --exclude='shorts/frontend/node_modules' \
    --exclude='shorts/backend/node_modules' \
    --exclude='shorts/webapp/node_modules' \
    --exclude='shorts/node_modules' \
    --exclude='shorts/frontend/dist' \
    --exclude='shorts/backend/temp' \
    --exclude='*.log' \
    shorts/
```

---

## 📂 백업 내용

### 포함된 디렉토리
- ✅ `/home/shorts/frontend/` - 프론트엔드 소스 코드
- ✅ `/home/shorts/backend/` - 백엔드 소스 코드
- ✅ `/home/shorts/webapp/` - 웹앱 관련 파일
- ✅ 모든 설정 파일 (.jsx, .js, .json, .md)
- ✅ 모든 백업 파일 (.backup*)

### 제외된 항목
- ❌ `node_modules/` (재설치 가능)
- ❌ `dist/` (빌드 산출물, 재생성 가능)
- ❌ `temp/` (임시 파일)
- ❌ `*.log` (로그 파일)

---

## 🔄 복구 방법

### 전체 복구
```bash
# 백업 위치로 이동
cd /home/azamans/backups

# 백업 파일 압축 해제
tar -xzf shorts_backup_20260205_122116.tar.gz -C /home/

# 또는 특정 디렉토리에 복구
tar -xzf shorts_backup_20260205_122116.tar.gz -C /home/restored/
```

### 특정 파일만 복구
```bash
# 파일 목록 확인
tar -tzf shorts_backup_20260205_122116.tar.gz | grep "ShortsSettingsPage.jsx"

# 특정 파일 추출
tar -xzf shorts_backup_20260205_122116.tar.gz \
    shorts/frontend/src/pages/ShortsSettingsPage.jsx
```

### node_modules 재설치
```bash
# 프론트엔드
cd /home/shorts/frontend
npm install

# 백엔드
cd /home/shorts/backend
npm install

# 웹앱
cd /home/shorts/webapp
npm install
```

---

## 📊 백업 시점 상태

### 프론트엔드
- **빌드 자산**: `index-qBhXL0AK.js`
- **배포 시각**: 2026-02-05 12:17 KST
- **주요 기능**:
  - 실시간 미리보기 (9:16)
  - 제목/자막 애니메이션 8종
  - 제목/자막 독립 설정
  - 중앙 정렬 레이아웃 (600px + 360px)

### 백엔드
- **변경 파일**: `videoRenderer.js`
- **주요 기능**:
  - 호환성 매핑 (titleStyle → titleSettings)
  - 장면 제목/자막 자동 생성

### 레이아웃
```
    [여백][설정 패널 600px][미리보기 360px][여백]
```
- 설정 패널: 화면 중앙 배치
- 미리보기: Sticky 스크롤

---

## 🔍 백업 검증

### 백업 파일 목록 확인
```bash
tar -tzf /home/azamans/backups/shorts_backup_20260205_122116.tar.gz | head -50
```

### 백업 무결성 검증
```bash
tar -tzf /home/azamans/backups/shorts_backup_20260205_122116.tar.gz > /dev/null
echo "백업 파일 상태: $?"  # 0이면 정상
```

### 백업 크기 확인
```bash
du -h /home/azamans/backups/shorts_backup_20260205_122116.tar.gz
```

---

## 📝 변경 로그

### 2026-02-05 작업 내역
1. **제목/자막 애니메이션 추가**
   - 8가지 효과 구현
   - 속도 제어 1.0~4.0초
   - 독립적 설정

2. **레이아웃 중앙 정렬**
   - Grid → Flex 레이아웃
   - 설정 패널 600px 고정
   - 미리보기 360px 고정, Sticky

3. **영상 생성 연동**
   - titleStyle → titleSettings 매핑
   - subtitle → subtitleSettings 매핑
   - narration → scene.title/subtitle

4. **버그 수정**
   - animationDuration undefined 에러
   - 레이아웃 붕괴 문제
   - 중첩 div 제거

---

## 🚨 주의사항

### 복구 전 확인사항
1. **현재 상태 백업**: 복구 전 현재 상태를 먼저 백업하세요
2. **서비스 중지**: 복구 중에는 서비스를 중지하세요
3. **경로 확인**: 복구 경로가 올바른지 확인하세요

### 복구 후 작업
1. **node_modules 재설치**: `npm install` 실행
2. **빌드**: `npm run build` 실행
3. **서버 재시작**: 프론트엔드/백엔드 서버 재시작
4. **동작 확인**: 모든 기능이 정상 작동하는지 확인

---

## 📞 문제 발생 시

### 연락처
- **작업자**: GenSpark AI Developer
- **작업일**: 2026-02-05

### 복구 실패 시
1. 백업 파일 무결성 확인
2. 디스크 공간 확인
3. 권한 확인 (azamans 사용자)
4. 로그 파일 확인

---

## ✅ 백업 체크리스트

- [x] 백업 파일 생성 완료
- [x] 압축 성공 (49MB)
- [x] 백업 위치 확인
- [x] 백업 내용 검증
- [x] 문서화 완료

**백업 완료!** 🎉

**백업 파일**: `/home/azamans/backups/shorts_backup_20260205_122116.tar.gz`
